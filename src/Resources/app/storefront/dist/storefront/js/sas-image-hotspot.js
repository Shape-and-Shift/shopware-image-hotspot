(window.webpackJsonp=window.webpackJsonp||[]).push([["sas-image-hotspot"],{"6KYj":function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return l}));var n=o("FGIj"),i=o("gHbT");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(t){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s(this,u(o).apply(this,arguments))}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,t),n=o,(r=[{key:"init",value:function(){this._registerEvents()}},{key:"_registerEvents",value:function(){var t=this;this.el.addEventListener("mouseover",(function(o){var n=i.a.querySelector(document,".sas-image-hotspot__desc",!1);n&&e(n).on("mouseover",(function(){e(t.el).tooltip("show"),e(document).on("mouseleave",".sas-image-hotspot__desc",(function(){e(t.el).tooltip("hide")}))}))}))}}])&&a(n.prototype,r),l&&a(n,l),o}(n.a)}).call(this,o("UoTJ"))},hKGH:function(e,t,o){"use strict";o.r(t);var n=o("6KYj"),i=o("lN++"),r=o("ERap"),a=o("gHbT");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,l(t).apply(this,arguments))}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),o=t,(n=[{key:"_registerEvents",value:function(){var e=this;r.a.iterate(this._imageContainers,(function(t){var o=a.a.querySelector(t,e.options.imageSelector,!1);if(o){if(o.parentElement.classList.contains("sas-image-hotspot-map-wrapper"))return;o.addEventListener("mousemove",(function(n){return e._onMouseMove(n,t,o)}),!1),t.addEventListener("mouseout",(function(t){return e._stopMagnify(t)}),!1)}}))}}])&&u(o.prototype,n),i&&u(o,i),t}(i.a),y=window.PluginManager;y.register("SasImageHotspot",n.a,"[data-sas-image-hotspot]"),y.override("Magnifier",f,"[data-magnifier]")},"lN++":function(e,t,o){"use strict";o.d(t,"a",(function(){return h}));var n=o("FGIj"),i=o("gHbT"),r=o("lH/c"),a=o("nnsc"),s=o("ERap");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,g,p,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,m(t).apply(this,arguments))}var o,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),o=t,(n=[{key:"init",value:function(){this._imageContainers=i.a.querySelectorAll(this.el,this.options.imageContainerSelector),this.options.magnifierOverGallery?this._zoomImageContainer=i.a.querySelector(this.el,this.options.zoomImageContainerSelector):this._zoomImageContainer=i.a.querySelector(document,this.options.zoomImageContainerSelector),this._registerEvents()}},{key:"_registerEvents",value:function(){var e=this;s.a.iterate(this._imageContainers,(function(t){var o=i.a.querySelector(t,e.options.imageSelector,!1);o&&(o.addEventListener("mousemove",(function(n){return e._onMouseMove(n,t,o)}),!1),t.addEventListener("mouseout",(function(t){return e._stopMagnify(t)}),!1))}))}},{key:"_isActive",value:function(){return-1!==[a.a.isLG(),a.a.isXL()].indexOf(!0)}},{key:"_setCursor",value:function(e,t){e&&(e.style.cursor=t)}},{key:"_onMouseMove",value:function(e,t,o){if(this._isActive()&&(this._setCursor(o,this.options.cursorType),this._createOverlay(t),this._createZoomImage(),this._getImageUrl(o),this._imageUrl&&this._zoomImage&&this._overlay)){var n=this._getContainerPos(t),i=this._getImagePos(o),a=this._getImageDimensions(o),s=this._getImageSize(o),u=this._getOverlaySize(s),c=n.subtract(i);c.x=Math.abs(c.x),c.y=Math.abs(c.y);var l=new r.a(e.pageX,e.pageY).subtract(i),m=l.divide(s).clamp(0,1);this._setOverlayPosition(c,u,s,m),this._setZoomImage(l,s,u,a)}this.$emitter.publish("onMouseMove")}},{key:"_setOverlayPosition",value:function(e,t,o,n){var i=e.subtract(t.divide(2));return i=(i=i.add(o.multiply(n))).clamp(e,e.add(o).subtract(t)),this._overlay.style.left="".concat(i.x,"px"),this._overlay.style.top="".concat(i.y,"px"),i}},{key:"_setZoomImage",value:function(e,t,o,n){this._setZoomImageSize(t),this._zoomImage.style.backgroundImage="url('".concat(this._imageUrl,"')");var i=this.calculateZoomBackgroundImageSize(n,t);this._zoomImage.style.backgroundSize="".concat(i.x,"px ").concat(i.y,"px");var r=this.calculateZoomImageBackgroundPosition(e,t,o,n,i);this._zoomImage.style.backgroundPosition="-".concat(r.x,"px -").concat(r.y,"px"),this.$emitter.publish("setZoomImagePosition")}},{key:"_setZoomImageSize",value:function(e){var t=e.y/e.x,o=this._getZoomImageSize(),n=this.options.scaleZoomImage?o.x*t:o.y;this._zoomImage.style.height="".concat(n,"px"),this._zoomImage.style.minHeight="".concat(n,"px")}},{key:"calculateZoomImageBackgroundPosition",value:function(e,t,o,n,i){var a=t.subtract(t.divide(this.options.zoomFactor)).subtract(new r.a(1,1)),s=e.subtract(o.divide(2)).clamp(0,t.subtract(o)).divide(a).clamp(0,1),u=this.getImageOrientation(n,t),c=1-1/this.options.zoomFactor;return 0===u?(s=s.multiply(new r.a(c,1)),s=(s=this.calculateImagePosition(s,t,n,"y","x")).multiply(new r.a(1,c))):1===u&&(s=s.multiply(new r.a(1,c)),s=(s=this.calculateImagePosition(s,t,n,"x","y")).multiply(new r.a(c,1))),i.multiply(s)}},{key:"calculateImagePosition",value:function(e,t,o,n,i){var r=(1-o[n]*(t[i]/t[n])/(o[i]/1))/2;return e[i]=this.calculateOffsetPercent(r,e[i]),e}},{key:"calculateOffsetPercent",value:function(e,t){return e+(1-2*e)*t}},{key:"calculateZoomBackgroundImageSize",value:function(e,t){var o=this.getImageOrientation(e,t),n=this._getZoomImageSize(),i=new r.a(0,0);return 1===o?i=new r.a(n.x,n.x*e.y/e.x):0===o&&(i=new r.a(n.y*e.x/e.y,n.y)),i.multiply(this.options.zoomFactor)}},{key:"getImageOrientation",value:function(e,t){return this._assertEqualFactors(e,t)?t.x>t.y?0:1:t.x/t.y>e.x/e.y?1:0}},{key:"_assertEqualFactors",value:function(e,t){var o=this._roundToTwoDigits(e.x/e.y);return this._roundToTwoDigits(t.x/t.y)===o}},{key:"_getContainerPos",value:function(e){var t=e.getBoundingClientRect();return new r.a(t.left+window.pageXOffset,t.top+window.pageYOffset)}},{key:"_getImagePos",value:function(e){var t=e.getBoundingClientRect();return new r.a(t.left+window.pageXOffset,t.top+window.pageYOffset)}},{key:"_getImageDimensions",value:function(e){var t=e.naturalWidth,o=e.naturalHeight;return new r.a(t,o)}},{key:"_getImageSize",value:function(e){var t=e.getBoundingClientRect();return new r.a(t.width,t.height)}},{key:"_getZoomImageSize",value:function(){var e=this._zoomImage.getBoundingClientRect();return new r.a(e.width,e.height)}},{key:"_getOverlaySize",value:function(e){var t=e.divide(this.options.zoomFactor);return this._overlay.style.width="".concat(Math.ceil(t.x),"px"),this._overlay.style.height="".concat(Math.ceil(t.y),"px"),t}},{key:"_createOverlay",value:function(e){if(this._overlay=e.querySelector(".".concat(this.options.overlayClass)),this._overlay)return this._overlay;var t='<div class="magnifier-overlay  '.concat(this.options.overlayClass,'">&nbsp;</div>');return this._overlay=e.insertAdjacentHTML("beforeend",t),this.$emitter.publish("createOverlay"),this._overlay}},{key:"_removeOverlay",value:function(){var e=document.querySelectorAll(".".concat(this.options.overlayClass));s.a.iterate(e,(function(e){return e.remove()})),this.$emitter.publish("removeOverlay")}},{key:"_createZoomImage",value:function(){if(this._zoomImage=this._zoomImageContainer.querySelector(".".concat(this.options.zoomImageClass)),this._zoomImage)return this._zoomImage;this._zoomImageContainer.style.position="relative";var e='<div class="magnifier-zoom-image  '.concat(this.options.zoomImageClass,'">&nbsp;</div>');return this._zoomImage=this._zoomImageContainer.insertAdjacentHTML("beforeend",e),this.$emitter.publish("createZoomImage"),this._zoomImage}},{key:"_removeZoomImage",value:function(){var e=document.querySelectorAll(".".concat(this.options.zoomImageClass));s.a.iterate(e,(function(e){return e.remove()})),this.$emitter.publish("removeZoomImage")}},{key:"_getImageUrl",value:function(e){this._imageUrl=i.a.getDataAttribute(e,this.options.fullImageDataAttribute),this.$emitter.publish("getImageUrl")}},{key:"_stopMagnify",value:function(){var e=this;this._removeZoomImage(),this._removeOverlay();var t=i.a.querySelectorAll(document,this.options.imageSelector);s.a.iterate(t,(function(t){return e._setCursor(t,"default")})),this.$emitter.publish("stopMagnify")}},{key:"_roundToTwoDigits",value:function(e){return Math.round(1e3*e)/1e3}}])&&c(o.prototype,n),u&&c(o,u),t}(n.a);p={zoomFactor:3,imageContainerSelector:".js-magnifier-container",imageSelector:".js-magnifier-image",fullImageDataAttribute:"data-full-image",zoomImageContainerSelector:".js-magnifier-zoom-image-container",overlayClass:"js-magnifier-overlay",zoomImageClass:"js-magnifier-zoom-image",magnifierOverGallery:!1,scaleZoomImage:!1,cursorType:"none"},(g="options")in(y=h)?Object.defineProperty(y,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[g]=p}},[["hKGH","runtime","vendor-node","vendor-shared"]]]);